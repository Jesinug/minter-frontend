(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{54:function(e,t,n){},55:function(e,t,n){},65:function(e,t,n){},69:function(e,t,n){"use strict";n.r(t);var a=n(14),c=n.n(a),i=n(1),s=n.n(i),r=n(21),o=n.n(r),u=(n(54),n(55),n(3)),l=n(2),h=n(4),j=n(6),d=n(5),b=n(8),p=n.p+"static/media/LOGO_MINTER.e9060aba.png",O=n(0),f=function(e){Object(j.a)(n,e);var t=Object(d.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){return Object(O.jsxs)("div",{children:[Object(O.jsx)("img",{src:p,className:"App-logo",alt:"logo"}),Object(O.jsx)("h1",{children:"Minter"}),Object(O.jsx)(b.b,{className:"py-3 px-3 is-inline-block",to:"/signup",children:"Signup"}),Object(O.jsx)(b.b,{className:"py-3 px-3 is-inline-block",to:"/login",children:" Login"})]})}}]),n}(s.a.Component),g=n(13),m=n(15),x=function e(){var t=this;Object(l.a)(this,e),this.signup=function(e){return t.instance.post("/signup",e)},this.login=function(e){return t.instance.post("/login",e)},this.logout=function(){return t.instance.post("/logout")},this.isLoggedIn=function(){return t.instance.get("/loggedin")},this.edit=function(e){return t.instance.put("/edit",e)},this.instance=c.a.create({baseURL:"".concat("https://minter-app.herokuapp.com","/auth"),withCredentials:!0})},v=s.a.createContext(),y=v.Consumer,C=v.Provider,k=function(e){Object(j.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={isLoggedIn:!1,isLoading:!0,user:null},e.authService=new x,e.signup=function(t){return e.authService.signup(t).then((function(t){return e.setState({isLoggedIn:!0,user:t.data})})).catch((function(){return e.setState({isLoggedIn:!1,user:null})}))},e.login=function(t){return e.authService.login(t).then((function(t){return e.setState({isLoggedIn:!0,user:t.data})})).catch((function(){return e.setState({isLoggedIn:!1,user:null})}))},e.logout=function(){return e.authService.logout().then((function(t){return e.setState({isLoggedIn:!1,user:null})})).catch((function(e){return console.error(e)}))},e}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.authService.isLoggedIn().then((function(t){e.setState({isLoggedIn:!0,user:t.data})})).catch((function(){e.setState({isLoggedIn:!1,user:null})})).finally((function(){e.setState({isLoading:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.isLoggedIn,n=e.isLoading,a=e.user;return n?Object(O.jsx)("p",{children:"Loading...."}):Object(O.jsxs)(C,{value:{isLoading:n,isLoggedIn:t,user:a,signup:this.signup,login:this.login,logout:this.logout},children:[" ",this.props.children]})}}]),n}(s.a.Component),S=function(e){return function(t){return Object(O.jsx)(y,{children:function(n){return Object(O.jsx)(e,Object(m.a)(Object(m.a)({},n),t))}})}},L=S(function(e){Object(j.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).handleChange=function(t){var n=t.target,a=n.name,c=n.value;e.setState(Object(g.a)({},a,c))},e.state={name:"",email:"",password:"",profilePicture:""},e}return Object(h.a)(n,[{key:"addToData",value:function(e){var t=this;e.preventDefault(),this.props.signup(this.state).then((function(e){t.props.history.push("/board")}),(function(e){t.setState({error:e})}))}},{key:"render",value:function(){var e=this;return Object(O.jsx)("div",{children:Object(O.jsxs)("form",{onSubmit:function(t){e.addToData(t)},children:[Object(O.jsx)("label",{children:Object(O.jsx)("b",{children:"Name:"})}),Object(O.jsx)("input",{type:"text",name:"name",onChange:function(t){e.handleChange(t)}}),Object(O.jsx)("label",{children:Object(O.jsx)("b",{children:"Email:"})}),Object(O.jsx)("input",{type:"email",name:"email",onChange:function(t){e.handleChange(t)}}),Object(O.jsx)("label",{children:Object(O.jsx)("b",{children:"Password:"})}),Object(O.jsx)("input",{type:"password",name:"password",onChange:function(t){e.handleChange(t)}}),Object(O.jsx)("label",{children:Object(O.jsx)("b",{children:"Profile Picture:"})}),Object(O.jsx)("input",{type:"text",name:"profilePicture",onChange:function(t){e.handleChange(t)}}),Object(O.jsx)("button",{children:"Submit"})]})})}}]),n}(s.a.Component)),w=S(function(e){Object(j.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).handleChange=function(t){var n=t.target,a=n.name,c=n.value;e.setState(Object(g.a)({},a,c))},e.state={email:"",password:""},e}return Object(h.a)(n,[{key:"addToData",value:function(e){var t=this;e.preventDefault(),this.props.login(this.state).then((function(e){t.props.history.push("/board")}),(function(e){t.setState({error:e})}))}},{key:"render",value:function(){var e=this;return Object(O.jsx)("div",{children:Object(O.jsxs)("form",{onSubmit:function(t){e.addToData(t)},children:[Object(O.jsx)("label",{children:Object(O.jsx)("b",{children:"Email:"})}),Object(O.jsx)("input",{type:"email",name:"email",onChange:function(t){e.handleChange(t)}}),Object(O.jsx)("label",{children:Object(O.jsx)("b",{children:"Password:"})}),Object(O.jsx)("input",{type:"password",name:"password",onChange:function(t){e.handleChange(t)}}),Object(O.jsx)("button",{children:"Submit"})]})})}}]),n}(s.a.Component)),N=function(e){Object(j.a)(n,e);var t=Object(d.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){return Object(O.jsxs)("div",{children:[Object(O.jsxs)("header",{children:[Object(O.jsx)(b.b,{className:"is-size-3",to:"/",children:"\u2302"})," "]}),Object(O.jsx)("img",{src:this.props.image,alt:this.props.title}),Object(O.jsx)("h1",{className:"title",children:this.props.title}),Object(O.jsx)("p",{children:this.props.description})]})}}]),n}(s.a.Component),A=function e(){var t=this;Object(l.a)(this,e),this.create=function(e){return t.instance.post("/",e)},this.get=function(){return t.instance.get("/")},this.getOne=function(e){return t.instance.get("/".concat(e))},this.deleteOne=function(e){return t.instance.delete("/".concat(e))},this.updateOne=function(e,n){return t.instance.put("/".concat(e),n)},this.instance=c.a.create({baseURL:"".concat("https://minter-app.herokuapp.com","/announcement"),withCredentials:!0})},I=function(e){Object(j.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).handleChange=function(t){var n=t.target,a=n.name,c=n.value;e.setState(Object(g.a)({},a,c))},e.state={skill:"",description:""},e}return Object(h.a)(n,[{key:"addToData",value:function(e){var t=this;e.preventDefault(),(new A).create(this.state).then((function(e){t.props.history.push("/profile")}),(function(e){t.setState({error:e})}))}},{key:"render",value:function(){var e=this;return Object(O.jsxs)("div",{children:[Object(O.jsx)(N,{image:p,title:"Create Announcement"}),Object(O.jsxs)("form",{onSubmit:function(t){e.addToData(t)},children:[Object(O.jsx)("label",{children:Object(O.jsx)("b",{children:"Skill:"})}),Object(O.jsx)("input",{type:"text",name:"skill",onChange:function(t){e.handleChange(t)}}),Object(O.jsx)("label",{children:Object(O.jsx)("b",{children:"Description:"})}),Object(O.jsx)("input",{type:"text",name:"description",onChange:function(t){e.handleChange(t)}}),Object(O.jsx)("button",{children:"Create"})]})]})}}]),n}(s.a.Component),D=function(e){Object(j.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).handleChange=function(e){var t=e.target,n=t.name,c=t.value;a.setState(Object(g.a)({},n,c)),a.props.onSearch(c)},a.state={search:""},a}return Object(h.a)(n,[{key:"render",value:function(){var e=this;return Object(O.jsx)("div",{className:"search",children:Object(O.jsx)("input",{name:"search",className:"input",type:"search",placeholder:"Search",value:this.state.search,onChange:function(t){return e.handleChange(t)}})})}}]),n}(s.a.Component),M=function e(){var t=this;Object(l.a)(this,e),this.create=function(e){return t.instance.post("/",e)},this.get=function(){return t.instance.get("/")},this.getOne=function(e){return t.instance.get("/".concat(e))},this.deleteOne=function(){return t.instance.delete("/")},this.updateOne=function(e,n){return t.instance.put("/".concat(e),n)},this.getAnnouncements=function(){return t.instance.get("/announcements")},this.instance=c.a.create({baseURL:"".concat("https://minter-app.herokuapp.com","/user"),withCredentials:!0})},P=function(e){Object(j.a)(n,e);var t=Object(d.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){return Object(O.jsx)("a",{href:"mailto:".concat(this.props.email),children:"Contact"})}}]),n}(s.a.Component),T=S(function(e){Object(j.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={user:{}},e.deleteAnnouncement=function(){(new A).deleteOne(e.props.id).then((function(){e.props.onAnnouncementDelete()}))},e}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=this;(new M).getOne(this.props.userId).then((function(t){e.setState({user:t.data||{}})}))}},{key:"render",value:function(){return Object(O.jsx)("div",{className:"box",children:Object(O.jsx)("div",{className:"media-content",children:Object(O.jsxs)("div",{className:"content",children:[Object(O.jsx)("img",{src:this.state.user.profilePicture,alt:this.state.user.name,height:"40px"}),Object(O.jsx)("h2",{children:this.state.user.name}),Object(O.jsxs)("p",{children:[Object(O.jsx)("strong",{children:this.props.skill})," ",Object(O.jsx)("br",{}),Object(O.jsxs)("small",{children:[this.props.description," "]})]}),this.state.user.id!==this.props.user.id&&Object(O.jsx)(P,{email:this.state.user.email}),Object(O.jsx)("button",{children:"Edit"}),Object(O.jsx)("button",{onClick:this.deleteAnnouncement,children:"Delete"})]})})})}}]),n}(s.a.Component)),U=function(e){Object(j.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={announcements:[],filteredAnnouncements:[]},e.handleSearch=function(t){if(t){var n=e.state.announcements.filter((function(e){return e.skill.toLowerCase().includes(t.toLowerCase())}));e.setState({filteredAnnouncements:n})}else e.setState({filteredAnnouncements:e.state.announcements})},e}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=this;(new A).get().then((function(t){e.setState({announcements:t.data,filteredAnnouncements:t.data})}))}},{key:"render",value:function(){return Object(O.jsxs)("div",{className:"board-wraper",children:[Object(O.jsx)(N,{}),Object(O.jsx)(D,{onSearch:this.handleSearch}),Object(O.jsx)("ul",{children:this.state.filteredAnnouncements.map((function(e){return Object(O.jsx)("li",{className:"announ-item",children:Object(O.jsx)(T,{userId:e.userId,skill:e.skill,description:e.description})},e.skill)}))})]})}}]),n}(s.a.Component);var E=S((function(e){var t=e.isLoggedIn,n=e.isLoading,a=e.exact,c=e.path,i=e.redirectPath,s=e.component;return n?Object(O.jsx)("p",{children:"Loading..."}):Object(O.jsx)(u.b,{exact:a,path:c,render:function(e){return t?Object(O.jsx)(u.a,{to:i}):t?void 0:Object(O.jsx)(s,Object(m.a)({},e))}})}));var R=S((function(e){var t=e.isLoggedIn,n=e.isLoading,a=e.exact,c=e.path,i=e.component;return n?Object(O.jsx)("p",{children:"Loading..."}):Object(O.jsx)(u.b,{exact:a,path:c,render:function(e){return t?t?Object(O.jsx)(i,Object(m.a)({},e)):void 0:Object(O.jsx)(u.a,{to:"/login"})}})})),F=S(function(e){Object(j.a)(n,e);var t=Object(d.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){return Object(O.jsx)(b.b,{to:"",className:this.props.className,onClick:this.props.logout,children:"Logout"})}}]),n}(s.a.Component)),B=(n(65),function(e){return Object(O.jsx)("button",{onClick:e.toggleMenu,className:"navbar-button ".concat(e.active?"is-active":"")})}),J=function(e){Object(j.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={activeMenu:!1},e.toggleMenu=function(){e.setState({activeMenu:!e.state.activeMenu})},e}return Object(h.a)(n,[{key:"render",value:function(){return Object(O.jsxs)("nav",{className:"navigation is-fixed-top",children:[Object(O.jsx)(b.b,{to:"/",children:Object(O.jsx)("img",{src:p,className:"navbar-logo"})}),Object(O.jsx)(B,{active:this.state.activeMenu,toggleMenu:this.toggleMenu}),Object(O.jsxs)("div",{className:"navigation-menu ".concat(this.state.activeMenu?"is-active":""),children:[Object(O.jsx)(b.b,{to:"/profile",className:"navigation-link",children:"Profile"}),Object(O.jsx)(F,{className:"navigation-link"})]})]})}}]),n}(s.a.Component),z=S(function(e){Object(j.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={announcements:[],user:{}},e.getAnnouncements=function(){(new M).getAnnouncements().then((function(t){e.setState({announcements:t.data})}))},e.deleteUser=function(){(new M).deleteOne().finally((function(t){e.props.logout()}))},e}return Object(h.a)(n,[{key:"componentDidMount",value:function(){this.getAnnouncements()}},{key:"render",value:function(){var e=this;return Object(O.jsxs)("div",{className:"profile-wraper",children:[Object(O.jsx)(N,{}),Object(O.jsx)(b.b,{className:"py-3 px-3 is-inline-block",to:"/announcement-form",children:"Create Announcement"}),Object(O.jsx)("ul",{children:this.state.announcements.map((function(t){return Object(O.jsx)("li",{className:"announ-item",children:Object(O.jsx)(T,{userId:t.userId,id:t.id,skill:t.skill,description:t.description,onAnnouncementDelete:e.getAnnouncements})},t.skill)}))}),Object(O.jsx)("button",{onClick:this.deleteUser,children:"Delete user"}),Object(O.jsx)(I,{})]})}}]),n}(s.a.Component));var G=S((function(e){return Object(O.jsxs)("div",{className:"App",children:[Object(O.jsx)("header",{className:"App-header",children:e.isLoggedIn?Object(O.jsx)(J,{}):Object(O.jsx)(f,{})}),Object(O.jsxs)(u.d,{children:[Object(O.jsx)(E,{path:"/signup",component:L}),Object(O.jsx)(E,{path:"/login",component:w}),Object(O.jsx)(R,{path:"/announcement-form",component:I}),Object(O.jsx)(R,{path:"/board",component:U}),Object(O.jsx)(R,{path:"/profile",component:z})]})]})})),_=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,70)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),i(e),s(e)}))};n(66).config(),window.axios=c.a.create({baseURL:"".concat("https://minter-app.herokuapp.com"),withCredentials:!0}),o.a.render(Object(O.jsx)(s.a.StrictMode,{children:Object(O.jsx)(b.a,{children:Object(O.jsx)(k,{children:Object(O.jsx)(G,{})})})}),document.getElementById("root")),_()}},[[69,1,2]]]);
//# sourceMappingURL=main.35fe4ebf.chunk.js.map